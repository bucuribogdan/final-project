<c:set var="contextPath" value="${pageContext.request.contextPath}"
       xmlns:c="http://www.springframework.org/schema/beans"/>

<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Edit your profile - The Travel Hack</title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
            integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
</head>
<body style=" margin-left:10px;
margin-right:10px;
margin-top:20px;
  background:url(http://www.barraques.cat/imgdirs/big/53/537714_beach-wallpaper-download.jpg);
  background-repeat: no-repeat;
  background-size: 100%;
  height: 100%;
  background-attachment: fixed;
  background-position: center;
  background-size: cover;">
<nav style="background-color:white; height:60;" >
    <div sec:authorize="isAuthenticated()">
        <div class="container" style="margin-top:auto;">
            <div class="navbar-header">
                <a class="navbar-brand" th:href="@{/profile}">

                    <img src="https://thetravelhack.com/wp-content/uploads/2014/06/LOGO-BLUE-LIGHT-TAG.png" alt="Travel" width="120" height="" style="margin-top: 0px;margin-left:0px;"/>
                </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right" style="margin-top:6;">
                    <li><a th:href="@{/profile} ">Profile:<span th:text ="${#authentication.getPrincipal().getFirstName()}"></span></a></li>
                    <li><a th:href="@{/trips}">Trips</a></li>
                    <li><a th:href="@{/login}">Log out</a></li>
                </ul>
            </div>
        </div>
    </div>
</nav><br><br>

<div class="container" align="center">
    <div class="profile-box"
         style="position:center;
                	width:70%;
                	top: 30px;
               	    bottom: 0px;
                	border: 2px solid powderblue;
                	padding: 30px;
                	background-color:white;
                    text-align:left;margin-left:20px;">

        <td><form th:action="@{/trips/add}" method="get">
            <input type="hidden"/>
            <input type="submit" style="width:15%; float:right;" class="btn btn-primary btn-block" value="Add new trip">
        </form></td>

        <h2>Your trips are:</h2>
        <table class="table table-striped">
            <tr>
                <th>Trip name:</th>
                <th>Date from:</th>
                <th>Date to:</th>
                <th></th>
            </tr>
            <tr th:each="trip: ${trips}">
                <td th:text="${trip.tripName}"></td>
                <td th:text="${trip.dateFrom}"></td>
                <td th:text="${trip.dateTo}"></td>
                <td>
                    <form th:action="@{/trips/delete}" method="post">
                        <input type="hidden" name="id" th:value="${trip.id}"/>
                        <input type="submit" class="btn btn-danger" value="Delete">
                    </form>
                </td>
                <td><form th:action="@{/trips/edit}">
                    <input type="hidden" name="id" th:value="${trip.id}" />
                    <input type="submit" class="btn btn-primary btn-block" value="Edit">
                </form></td>
            </tr>
        </table>
        <div class="footer" style="position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 25px;
  background-color: white;
  color: black;
  font-weight:bold;
  text-align: center;">
            <p>Â©The Travel Hack - 2019. EU legislation: By signing in, I agree that Travel could set cookies in my
                browser.</p>
        </div>
    </div>
</div>
</body>
</html>